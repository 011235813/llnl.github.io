## About the contents of this directory...

#### [./d3-tip][tip dir]
An additional script required for tool tip style labels on D3 graphs.  
[_Source Repo_][tip source]

#### [./d3-v4-cloud][cloud dir]
Another addon script for creating word clouds with D3.  
[_Source Repo_][cloud source]

#### [./github-data][data dir]
Where all data used for the visualizations, as generated by the data fetching scripts, is stored.  
These data files are intended to be read by the webpage's js scripts each time it is loaded, and should require little additional manipulation.  
Also included are scripts for viewing these data files in a more human-readable format.

#### [./inputs][inputs dir]
Simple text files containing input lists. (e.g. list of organizations, list of independent repositories)

#### [./js][js dir]
Javascripts for the webpage.

#### [./queries][queries dir]
The actual queries sent to [GitHub's GraphQL API][gitgraphql] when the data fetching scripts are run. This makes writing/editing queries easier, as it allows them to remain in individual, human-readable text files.

#### [./scripts][scripts dir]
Scripts for data fetching and manipulation. Data is written to [`./github-data`][data dir] in appropriate json formats.

New files are created for each type of data structure.  
For most files, a new entry is added to the file for each day that the scripts are run. If a script is run multiple times in a single day, the entry for that day will be overwritten.  
Other files contain only one entry with the most recent data.

Running [`MASTER.sh`][mastersh] will run all of the necessary scripts in the appropriate order to fetch updated data and perform any additional manipulation. It will also update [`LAST_MASTER_UPDATE.txt`][lastmasterup] to record when this complete master script was last run.

**IMPORTANT!**  
Data fetching scripts require an environment variable `GITHUB_API_TOKEN` containing a valid GitHub [OAuth token][oauth] or [personal access token][personaltoken].  
The scripts are only for gathering new data. You do not need them to run to view the visualizations on the sample webpage.

[oauth]: https://github.com/settings/developers
[personaltoken]: https://github.com/settings/tokens
[index html]: https://github.com/LLNL/llnl.github.io/blob/graphql-dev/graphql-github-vis/index.html
[d3 home]: https://d3js.org/
[gitgraphql]: https://developer.github.com/v4/
[tip source]: https://github.com/VACLab/d3-tip
[cloud source]: https://github.com/sly7-7/d3-v4-cloud
[css dir]: css
[tip dir]: d3-tip
[cloud dir]: d3-v4-cloud
[data dir]: github-data
[inputs dir]: inputs
[js dir]: js
[queries dir]: queries
[scripts dir]: scripts
[mastersh]: scripts/MASTER.sh
[lastmasterup]: github-data/LAST_MASTER_UPDATE.txt
